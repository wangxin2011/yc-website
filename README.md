# PC端项目页面基础架构
```
使用了element的ui库，以element admin为基础框架进行开发  
UI库官网地址：https://element.eleme.cn/#/zh-CN  
admin框架样例网址：https://panjiachen.github.io/vue-element-admin/  
// 克隆代码到本地
git clone http://gitlab.dledc.com/jxxhy/purchasing/pc.git
cd pc
// 安装依赖包
npm install
// 切换分支
git checkout develop 
// 本地运行-默认开发线
npm run dev  
// 打包正式线环境
npm run build 
```
## 应用使用说明
```
应用用户使用的权限都是通过对应角色进行权限分配控制
应用使用前准备步骤（由开发人员操作）
1、使用具有admin权限的用户登录
2、由于刚刚开始没有菜单，登录后使用菜单地址进行菜单添加（域名/index.html/#/menu）
3、在使用角色地址进行权限分配（域名/index.html/#/role）

```

## 项目部署
```
1、输出部署包
npm run build 
2、在输出的部署包中修改config.js配置文件中的接口及sso地址
 当前应用接口地址
 VUE_APP_BASE_API : 'http://devcgapi.dledc.com'
 // sso地址,主要在退出登录时使用
 VUE_APP_SSO_URL : 'http://sso3.dledc.com'
3、服务器上创建静态资源站点，将部署包拷贝到站点根目录即可
注意：部署服务的时候需要配置暂定伪静态，参考文档：https://router.vuejs.org/zh/guide/essentials/history-mode.html#%E5%90%8E%E7%AB%AF%E9%85%8D%E7%BD%AE%E4%BE%8B%E5%AD%90
nginx：
location / {
	# URL重写支持
	add_header Cache-Control no-cache;
	expires -1s;
  try_files $uri $uri/ /index.html;
}
Apache：
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  RewriteRule ^index\.html$ - [L]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . /index.html [L]
</IfModule>

```


## 项目结构

├─ build --------------------------------------- webpackBuild配置文件目录  
│   └─ index.js ------------------------------ 配置文件运行编译命令后的输出内容配置  
├─ mock ------------------------------------ 数据模拟服务文件目录     
├─ public ------------------------------------ 公共资源文件目录    
│   ├─ config.js ----------------------------- 项目接口等信息配置文件    
│   ├─ favicon ------------------------------- 项目浏览器标签上的logo  
│   └─ index.html ---------------------------- 项目index入口文件  
├─ src ------------------------------------- 页面代码目录    
│   ├─ api ----------------------------------- 接口文件目录  
│   │   ├─ system ----------------------------- 系统基础功能接口文件目录  
│   │   │   ├─ menu.js ------------------------------- 菜单管理接口文件   
│   │   │   ├─ role.js ------------------------------- 用户角色管理接口文件  
│   │   │   ├─ sys.js -------------------------------- 同步底层平台数据接口文件（人员、部门同步）  
│   │   │   └─ user.js ------------------------------- 用户管理接口文件      
│   │   └─ user.js ----------------------------- 用户信息接口文件      
│   ├─ assets ---------------------------------- 图片文件目录    
│   ├─ components ------------------------------ 全集组件目录   
│   │   ├─ BackToTop --------------------------- 回到顶部组件      
│   │   ├─ Breadcrumb -------------------------- 面包屑菜单    
│   │   ├─ Charts ------------------------------ 图表      
│   │   ├─ DndList -----------------------------   
│   │   ├─ DragSelect --------------------------       
│   │   ├─ Dropzone ----------------------------   
│   │   ├─ ErrorLog ----------------------------   
│   │   ├─ GithubCorner ------------------------    
│   │   ├─ Hamburger ---------------------------   
│   │   ├─ HeaderSearch ------------------------   
│   │   ├─ ImageCropper ------------------------   
│   │   ├─ GithubCorner ------------------------    
│   │   ├─ JsonEditor --------------------------   
│   │   ├─ Kanban ------------------------------   
│   │   ├─ MarkdownEditor ----------------------   
│   │   ├─ MDinput -----------------------------    
│   │   ├─ Pagination -------------------------- 分页组件    
│   │   ├─ PanThumb ----------------------------    
│   │   ├─ RightPanel --------------------------   
│   │   ├─ Screenfull -------------------------- 全屏按钮组件     
│   │   ├─ Share ------------------------------- 分享组件   
│   │   ├─ SizeSelect --------------------------    
│   │   ├─ Sticky ------------------------------ 吸顶组件   
│   │   ├─ SvgIcon -----------------------------   
│   │   ├─ TextHoverEffect ---------------------   
│   │   ├─ ThemePicker -------------------------    
│   │   ├─ Tinymce -----------------------------   
│   │   ├─ Upload ------------------------------  文件上传组件   
│   │   └─  UploadExcel -------------------------  excel文件上传组件   
│   ├─ directive --------------------------------- 自定义指令文件目录   
│   ├─ filters ----------------------------------- 过滤器文件目录    
│   ├─ icons ------------------------------------- 图标    
│   ├─ layout ------------------------------------ 布局文件目录    
│   │   ├─ components ----------------------- 局部布局组件目录     
│   │   │    ├─ Settings ------------------------ 信息设置组件   
│   │   │    ├─ Sidebar ------------------------- 菜单栏组件   
│   │   │    ├─ TagsView ------------------------ 标签组件   
│   │   │    ├─ AppMain ------------------------- 项目入口组件   
│   │   │    ├─ index.js ------------------------ 布局组件注册文件  
│   │   │    └─ Navbar -------------------------- 顶部菜单栏组件   
│   │    ├─ mixin --------------------------- 混入文件目录   
│   │    |    ├─ mixin.js ------------------------ 公用方法混入文件   
│   │    |    └─ ResizeHandler.js ---------------- 项目窗口大写处理混入文件     
│   │    └─ index.vue --------------------- 布局入口文件   
│   ├─ router ------------------------------------ 路由模块   
│   │    ├─ modules -------------------------- 其它自定义路由文件目录     
│   │    ├─ configMap.js --------------------- 路由components定义  
│   │    └─ index.js ------------------------- 路由主文件    
│   ├─ store ------------------------------------- 状态管理目录  
│   │    ├─ modules -------------------------- 功能模块对应的状态管理文件目录   
│   │    |    ├─ app.js ---------------------- 应用状态管理文件   
│   │    |    ├─ permission.js --------------- 权限状态管理文件  
│   │    |    ├─ setting.js ------------------ 设置状态管理文件   
│   │    |    ├─ tagsView.js ----------------- 标签状态管理文件   
│   │    |    └─ user.js --------------------- 用户信息状态管理文件    
│   │    ├─ getter.js ------------------------ 状态管理的getter文件  
│   │    └─ index.js ------------------------- 状态管理主文件   
│   ├─ style ------------------------------- 全集样式文件目录   
│   ├─ utils --------------------------------- 工具类文件目录   
│   │    ├─ auth.js -------------------------- 授权工具类   
│   │    ├─ clipboard.js --------------------- 粘贴版工具类    
│   │    ├─ request.js ----------------------- 网络请求工具类   
│   │    ├─ index.js ------------------------- 公共方法工具类     
│   │    ├─ request.js ----------------------- 网络请求工具类   
│   │    └─ validate.js ---------------------- 校验工具类   
│   ├─ vendor ------------------------------ Excel、zip库文件目录  
│   ├─ views ------------------------------- 功能模块代码目录  
│   │    ├─ dashboard ------------------------ 主页代码目录  
│   │    ├─ login ---------------------------- 登录代码目录    
│   │    └─ system --------------------------- 系统基础功能模块目录  
│   │         ├─ menu --------------------------- 菜单管理代码目录   
│   │         |   └─ components -------------------- 模块内部组件目录    
│   │         ├─ permission --------------------- 权限管理代码目录   
│   │         |   └─ components -------------------- 模块内部组件目录    
│   │         ├─ role --------------------------- 角色管理代码目录    
│   │         |   └─ components -------------------- 模块内部组件目录    
│   │         └─ user --------------------------- 用户管理代码目录   
│   │             └─ components -------------------- 模块内部组件目录    
│   ├─ App.vue -------------------------------   
│   ├─ main.js -------------------------------    
│   ├─ permission.js ------------------------- 权限控制文件     
│   └─ setting.js ---------------------------- 设置文件    
├─ .gitignore  ------------------------------- git忽略文件目录管理文件      
├─ vue.config.js ----------------------------- webpack配置文件     
└─ README.md --------------------------------- 项目说明文件   